{"ast":null,"code":"import { create } from \"zustand\";\nexport const useCalculatorStore = create(set => ({\n  components: [],\n  expression: \"\",\n  darkMode: false,\n  addComponent: component => set(state => ({\n    components: [...state.components, component]\n  })),\n  setExpression: exp => set(state => ({\n    expression: state.expression + exp\n  })),\n  undo: () => set(state => {\n    if (state.history.length === 0) return state;\n    const previous = state.history[state.history.length - 1];\n    return {\n      components: previous,\n      history: state.history.slice(0, -1),\n      future: [state.components, ...state.future]\n    };\n  }),\n  redo: () => set(state => {\n    if (state.future.length === 0) return state;\n    const next = state.future[0];\n    return {\n      components: next,\n      history: [...state.history, state.components],\n      future: state.future.slice(1)\n    };\n  }),\n  setDarkMode: mode => set(state => ({\n    darkMode: mode\n  })),\n  calculateResult: () => set(state => ({\n    expression: eval(state.expression).toString()\n  })),\n  toggleTheme: () => set(state => {\n    document.documentElement.classList.toggle(\"dark\", !state.darkMode);\n    return {\n      darkMode: !state.darkMode\n    };\n  })\n}));\n\n// import { create } from \"zustand\";\n\n// export const useCalculatorStore = create((set) => ({\n//   components: [],\n//   history: [], // Stores previous states for undo\n//   future: [], // Stores undone states for redo\n//   expression: \"\",\n//   darkMode: false,\n\n//   addComponent: (component) =>\n//     set((state) => ({\n//       history: [...state.history, state.components], // Save current state before change\n//       components: [...state.components, component],\n//       future: [], // Reset redo history\n//     })),\n\n//   removeComponent: (index) =>\n//     set((state) => ({\n//       history: [...state.history, state.components], // Save current state\n//       components: state.components.filter((_, i) => i !== index),\n//       future: [],\n//     })),\n\n//   setExpression: (exp) =>\n//     set((state) => ({ expression: state.expression + exp })),\n\n//   calculateResult: () =>\n//     set((state) => ({\n//       expression: eval(state.expression).toString(),\n//     })),\n\n//   undo: () =>\n//     set((state) => {\n//       if (state.history.length === 0) return state;\n//       const previous = state.history[state.history.length - 1];\n//       return {\n//         components: previous,\n//         history: state.history.slice(0, -1),\n//         future: [state.components, ...state.future],\n//       };\n//     }),\n\n//   redo: () =>\n//     set((state) => {\n//       if (state.future.length === 0) return state;\n//       const next = state.future[0];\n//       return {\n//         components: next,\n//         history: [...state.history, state.components],\n//         future: state.future.slice(1),\n//       };\n//     }),\n\n//   setDarkMode: (mode) =>\n//     set((state) => {\n//       document.documentElement.classList.toggle(\"dark\", !state.darkMode);\n//       return { darkMode: mode };\n//     }),\n\n//   toggleTheme: () =>\n//     set((state) => {\n//       document.documentElement.classList.toggle(\"dark\", !state.darkMode);\n//       return { darkMode: !state.darkMode };\n//     }),\n// }));","map":{"version":3,"names":["create","useCalculatorStore","set","components","expression","darkMode","addComponent","component","state","setExpression","exp","undo","history","length","previous","slice","future","redo","next","setDarkMode","mode","calculateResult","eval","toString","toggleTheme","document","documentElement","classList","toggle"],"sources":["C:/Users/mayan/OneDrive/Desktop/React/calculator-builder/src/store/useCalculatorStore.js"],"sourcesContent":["import { create } from \"zustand\";\r\n\r\nexport const useCalculatorStore = create((set) => ({\r\n  components: [],\r\n  expression: \"\",\r\n  darkMode: false,\r\n\r\n  addComponent: (component) => set((state) => ({ components: [...state.components, component] })),\r\n  setExpression: (exp) => set((state) => ({ expression: state.expression + exp })),\r\n\r\n  undo: () =>\r\n        set((state) => {\r\n          if (state.history.length === 0) return state;\r\n          const previous = state.history[state.history.length - 1];\r\n          return {\r\n            components: previous,\r\n            history: state.history.slice(0, -1),\r\n            future: [state.components, ...state.future],\r\n          };\r\n        }),\r\n    \r\n      redo: () =>\r\n        set((state) => {\r\n          if (state.future.length === 0) return state;\r\n          const next = state.future[0];\r\n          return {\r\n            components: next,\r\n            history: [...state.history, state.components],\r\n            future: state.future.slice(1),\r\n          };\r\n        }),\r\n\r\nsetDarkMode: (mode) => set((state) => ({ darkMode: mode })),\r\n  calculateResult: () => set((state) => ({ expression: eval(state.expression).toString() })),\r\n  toggleTheme: () => set((state) => {\r\n    document.documentElement.classList.toggle(\"dark\", !state.darkMode);\r\n    return { darkMode: !state.darkMode };\r\n  }),\r\n}));\r\n\r\n// import { create } from \"zustand\";\r\n\r\n// export const useCalculatorStore = create((set) => ({\r\n//   components: [],\r\n//   history: [], // Stores previous states for undo\r\n//   future: [], // Stores undone states for redo\r\n//   expression: \"\",\r\n//   darkMode: false,\r\n\r\n//   addComponent: (component) =>\r\n//     set((state) => ({\r\n//       history: [...state.history, state.components], // Save current state before change\r\n//       components: [...state.components, component],\r\n//       future: [], // Reset redo history\r\n//     })),\r\n\r\n//   removeComponent: (index) =>\r\n//     set((state) => ({\r\n//       history: [...state.history, state.components], // Save current state\r\n//       components: state.components.filter((_, i) => i !== index),\r\n//       future: [],\r\n//     })),\r\n\r\n//   setExpression: (exp) =>\r\n//     set((state) => ({ expression: state.expression + exp })),\r\n\r\n//   calculateResult: () =>\r\n//     set((state) => ({\r\n//       expression: eval(state.expression).toString(),\r\n//     })),\r\n\r\n//   undo: () =>\r\n//     set((state) => {\r\n//       if (state.history.length === 0) return state;\r\n//       const previous = state.history[state.history.length - 1];\r\n//       return {\r\n//         components: previous,\r\n//         history: state.history.slice(0, -1),\r\n//         future: [state.components, ...state.future],\r\n//       };\r\n//     }),\r\n\r\n//   redo: () =>\r\n//     set((state) => {\r\n//       if (state.future.length === 0) return state;\r\n//       const next = state.future[0];\r\n//       return {\r\n//         components: next,\r\n//         history: [...state.history, state.components],\r\n//         future: state.future.slice(1),\r\n//       };\r\n//     }),\r\n\r\n//   setDarkMode: (mode) =>\r\n//     set((state) => {\r\n//       document.documentElement.classList.toggle(\"dark\", !state.darkMode);\r\n//       return { darkMode: mode };\r\n//     }),\r\n\r\n//   toggleTheme: () =>\r\n//     set((state) => {\r\n//       document.documentElement.classList.toggle(\"dark\", !state.darkMode);\r\n//       return { darkMode: !state.darkMode };\r\n//     }),\r\n// }));\r\n\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAEhC,OAAO,MAAMC,kBAAkB,GAAGD,MAAM,CAAEE,GAAG,KAAM;EACjDC,UAAU,EAAE,EAAE;EACdC,UAAU,EAAE,EAAE;EACdC,QAAQ,EAAE,KAAK;EAEfC,YAAY,EAAGC,SAAS,IAAKL,GAAG,CAAEM,KAAK,KAAM;IAAEL,UAAU,EAAE,CAAC,GAAGK,KAAK,CAACL,UAAU,EAAEI,SAAS;EAAE,CAAC,CAAC,CAAC;EAC/FE,aAAa,EAAGC,GAAG,IAAKR,GAAG,CAAEM,KAAK,KAAM;IAAEJ,UAAU,EAAEI,KAAK,CAACJ,UAAU,GAAGM;EAAI,CAAC,CAAC,CAAC;EAEhFC,IAAI,EAAEA,CAAA,KACAT,GAAG,CAAEM,KAAK,IAAK;IACb,IAAIA,KAAK,CAACI,OAAO,CAACC,MAAM,KAAK,CAAC,EAAE,OAAOL,KAAK;IAC5C,MAAMM,QAAQ,GAAGN,KAAK,CAACI,OAAO,CAACJ,KAAK,CAACI,OAAO,CAACC,MAAM,GAAG,CAAC,CAAC;IACxD,OAAO;MACLV,UAAU,EAAEW,QAAQ;MACpBF,OAAO,EAAEJ,KAAK,CAACI,OAAO,CAACG,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MACnCC,MAAM,EAAE,CAACR,KAAK,CAACL,UAAU,EAAE,GAAGK,KAAK,CAACQ,MAAM;IAC5C,CAAC;EACH,CAAC,CAAC;EAEJC,IAAI,EAAEA,CAAA,KACJf,GAAG,CAAEM,KAAK,IAAK;IACb,IAAIA,KAAK,CAACQ,MAAM,CAACH,MAAM,KAAK,CAAC,EAAE,OAAOL,KAAK;IAC3C,MAAMU,IAAI,GAAGV,KAAK,CAACQ,MAAM,CAAC,CAAC,CAAC;IAC5B,OAAO;MACLb,UAAU,EAAEe,IAAI;MAChBN,OAAO,EAAE,CAAC,GAAGJ,KAAK,CAACI,OAAO,EAAEJ,KAAK,CAACL,UAAU,CAAC;MAC7Ca,MAAM,EAAER,KAAK,CAACQ,MAAM,CAACD,KAAK,CAAC,CAAC;IAC9B,CAAC;EACH,CAAC,CAAC;EAEVI,WAAW,EAAGC,IAAI,IAAKlB,GAAG,CAAEM,KAAK,KAAM;IAAEH,QAAQ,EAAEe;EAAK,CAAC,CAAC,CAAC;EACzDC,eAAe,EAAEA,CAAA,KAAMnB,GAAG,CAAEM,KAAK,KAAM;IAAEJ,UAAU,EAAEkB,IAAI,CAACd,KAAK,CAACJ,UAAU,CAAC,CAACmB,QAAQ,CAAC;EAAE,CAAC,CAAC,CAAC;EAC1FC,WAAW,EAAEA,CAAA,KAAMtB,GAAG,CAAEM,KAAK,IAAK;IAChCiB,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,MAAM,CAAC,MAAM,EAAE,CAACpB,KAAK,CAACH,QAAQ,CAAC;IAClE,OAAO;MAAEA,QAAQ,EAAE,CAACG,KAAK,CAACH;IAAS,CAAC;EACtC,CAAC;AACH,CAAC,CAAC,CAAC;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module"}